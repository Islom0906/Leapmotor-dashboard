{"version":3,"file":"static/js/312.be70f223.chunk.js","mappings":"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","sources":["@crema/services/apis/axios.js","@crema/utility/helper/persistence-storage.js","@crema/services/apis/api.js","pages/sample/FilialInner/PostEditFilialInner.jsx"],"sourcesContent":["import {getItem} from '../../utility/helper/persistence-storage';\nimport axios from 'axios';\n\naxios.defaults.baseURL = `${process.env.REACT_APP_API_URL}`;\n\naxios.interceptors.request.use((config) => {\n    const jwt = getItem('lptoken');\n    const authorization = jwt!==null ? `Bearer ${jwt}` : '';\n    config.headers.authorization = authorization;\n    return config;\n});\n\nexport default axios;","export const getItem=(key)=>{\n    try {\n        return localStorage.getItem(key)\n    } catch (error) {\n        console.log('Error getting data')\n    }\n}\n\nexport const setItem=(key,data)=>{\n    try {\n        localStorage.setItem(key,data)\n    } catch (error) {\n        console.log('Error saving data')\n    }\n}\nexport const removeItem=(key)=>{\n    try {\n        return localStorage.removeItem(key)\n    } catch (error) {\n        console.log('Error removing data')\n    }\n}","import axios from './axios';\n\nconst apiService = {\n    // malutmotlarni get qilish uchun url beriladi\n    // url / boshlansin yani /edu shunga oxshagan\n    async getData(url) {\n        const {data} = await axios.get(url);\n        return data;\n    },\n    // faqat bitta malumot  get qilish uchun url va idsi beriladi\n    // url / boshlansin yani /edu shunga oxshagan\n    async getDataByID(url, id) {\n        const {data} = await axios.get(`${url}/${id}`);\n        return data;\n    },\n    // malutmotni post qilish uchun url va yaratilgan malumot beriladi\n    // url / boshlansin yani /edu shunga oxshagan\n    async postData(url, formData) {\n        const {data}= await axios.post(url, formData);\n        return data\n    },\n    // malutmotni edit qilish uchun url,id va yaratilgan malumot beriladi\n    // url / boshlansin yani /edu shunga oxshagan\n    async editData(url, formData, id) {\n        const {data}= await axios.put(`${url}/${id}`, formData)\n        return data\n    },\n    // malutmotni delete qilish uchun url va id  beriladi\n    // url / boshlansin yani /edu shunga oxshagan\n    async deleteData(url, id) {\n        await axios.delete(`${url}/${id}`);\n    },\n\n    async deleteImages(url, ids) {\n        console.log('delete image',ids)\n        await axios.delete(url, {\"ids\":[\n                \"64f0ffa5883c58f0433c44d9\"\n            ]});\n    },\n};\nexport default apiService;","import React, {useEffect, useState} from 'react';\nimport {Button, Col, Form, message, Row, Upload} from 'antd';\nimport ImgCrop from 'antd-img-crop';\nimport {useMutation, useQuery} from 'react-query';\nimport apiService from '../../../@crema/services/apis/api';\nimport {AppLoader} from '../../../@crema';\nimport {useNavigate} from 'react-router-dom';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {EDIT_DATA} from '../../../shared/constants/ActionTypes';\n\nconst initialValueForm = {\n    mediaId: [\"\"]\n};\n\n\nconst PostEditFilialInner = () => {\n    const [form] = Form.useForm();\n    const navigate = useNavigate();\n    const {editId} = useSelector((state) => state.editData);\n    const dispatch = useDispatch();\n\n    const [fileListProps, setFileListProps] = useState([]);\n    const [fileList, setFileList] = useState([]);\n    const [valuesForm, setValues] = useState({});\n    const [isNotEditImages, setIsNotEditImages] = useState(false);\n    const [deleteImage, setDeleteImage] = useState({});\n\n\n    console.log(deleteImage)\n    // query-filialInner\n    const {\n        mutate: postFilialInnerMutate,\n        data: postFilialInner,\n        isLoading: postFilialInnerLoading,\n        isSuccess: postFilialInnerSuccess,\n        error: postFilialInnerError,\n        isError: postFilialInnerIsError,\n    } = useMutation(({url, data}) => apiService.postData(url, data),\n        {\n            onSuccess: () => message.success('Success'),\n            onError: (error) => message.error(error.message)\n        });\n    // query-image\n    const {\n        mutate: imagesUploadMutate,\n        data: imagesUpload,\n        isLoading: imagesUploadLoading,\n        isSuccess: imagesUploadSuccess,\n    } = useMutation(({url, formData}) => apiService.postData(url, formData), {\n\n        onError: (error) => message.error(error.message, 'Rasmning JPG,JPEG,PNG formatlariga ruxsat etilgan')\n    });\n    // query-edit\n\n    const {\n        isLoading: editFilialInnerLoading,\n        data: editFilialInnerData,\n        refetch: editFilialInnerRefetch,\n        isSuccess: editFilialInnerSuccess,\n    } = useQuery(\n        ['edit-filialInner', editId],\n        () => apiService.getDataByID('/filialInner',editId),\n        {\n            enabled: false,\n        },\n    );\n    // put-query\n    const {\n        mutate: putFilialInner,\n        isLoading: putFilialInnerLoading,\n        data: putData,\n        isSuccess: putFilialInnerSuccess,\n        error: putFilialInnerError,\n        isError: putFilialInnerIsError,\n    } = useMutation(({url, data, id}) => apiService.editData(url, data, id), {\n        onError: (error) => message.error(error.message)\n    });\n    // delete-image-query\n    const {mutate: imagesDeleteMutate} = useMutation(({url, ids}) => apiService.deleteImages(url, ids), {\n            onSuccess: () => message.success('Success'),\n            onError: (error) => message.error(error.message)\n        }\n    );\n\n    // filialInner success\n    useEffect(() => {\n        let delImage = []\n        if (putFilialInnerSuccess) {\n            dispatch({type: EDIT_DATA, payload: ''});\n        }\n        // deleteImage?.map = (image => {\n        //     if (editFilialInnerSuccess && image?.uid) {\n        //         delImage.push(image?.uid)\n        //     }\n        //\n        // })\n\n        if (editFilialInnerSuccess &&delImage.length>0) {\n            const ids = {\n                ids: delImage\n            }\n            imagesDeleteMutate({url: '/medias', ids});\n        }\n\n        if (postFilialInnerSuccess || putFilialInnerSuccess) {\n\n            navigate('/filialInner');\n        }\n    }, [postFilialInner, putData]);\n\n    //filialInner  error\n    useEffect(() => {\n        if (postFilialInnerIsError) {\n            message.error(postFilialInnerError.message);\n        }\n        if (putFilialInnerIsError) {\n            message.error(putFilialInnerError.message);\n        }\n    }, [postFilialInnerError, putFilialInnerError]);\n\n    // if edit filialInner\n    useEffect(() => {\n        if (editId !== '') {\n            editFilialInnerRefetch();\n        }\n    }, [editId]);\n\n    // if no edit filialInner\n    useEffect(() => {\n        if (editId === '') {\n            form.setFieldsValue(initialValueForm);\n        }\n    }, []);\n\n    //edit filialInner\n    useEffect(() => {\n        const imagesInitial = [];\n        for (let i = 0; i < editFilialInnerData?.images?.length; i++) {\n            const editDefaultImages = {\n                uid: editFilialInnerData?.images[i]?._id,\n                name: editFilialInnerData?.images[i]?.name,\n                location: editFilialInnerData?.images[i]?.path,\n                status: \"done\",\n                url: `${process.env.REACT_APP_API_URL}/${editFilialInnerData?.images[i]?.path}`\n            };\n            imagesInitial.push(editDefaultImages);\n        }\n        console.log(editFilialInnerData)\n        if (editFilialInnerSuccess) {\n            const edit = {\n                mediaId: imagesInitial,\n            };\n            setFileListProps(imagesInitial);\n\n            form.setFieldsValue(edit);\n        }\n    }, [editFilialInnerData]);\n\n    // post filialInner\n    useEffect(() => {\n\n        let imageData = []\n\n        let patchImagesAndInitialImages = [];\n        if (imagesUploadSuccess) {\n\n            patchImagesAndInitialImages = fileList.concat(imagesUpload);\n        } else {\n            patchImagesAndInitialImages = [...fileList];\n        }\n\n        const deleteLocalImage = []\n        patchImagesAndInitialImages.map((image) => {\n            if (!image?.originFileObj?.uid) {\n                deleteLocalImage.push(image)\n            }\n        })\n\n\n        if (!editFilialInnerSuccess && imagesUpload) {\n            imagesUpload?.map(image => {\n                imageData.push(image?._id)\n            })\n        } else {\n            deleteLocalImage.map((image) => {\n\n                if (image?.uid) {\n                    imageData.push(image?.uid)\n                } else {\n                    imageData.push(image?._id)\n\n                }\n            });\n        }\n\n\n        console.log(patchImagesAndInitialImages);\n        console.log(imageData)\n        const data = {\n            mediaId: imageData,\n\n        };\n        console.log(data)\n        if (imagesUploadSuccess && !editFilialInnerSuccess) {\n            postFilialInnerMutate({url: '/filialInner', data});\n        } else if (isNotEditImages || imagesUploadSuccess) {\n            putFilialInner({url: '/filialInner', data, id: editId});\n        }\n    }, [imagesUpload, valuesForm]);\n\n    const onFinish = (values) => {\n        const formData = new FormData();\n\n        let uploadNewImage = false;\n\n        fileListProps?.map(file => {\n            if (editFilialInnerSuccess) {\n                if (file?.originFileObj?.uid) {\n                    uploadNewImage = true;\n                    formData.append('media', file?.originFileObj);\n                    setIsNotEditImages(false);\n                    setFileList(fileListProps);\n                } else {\n                    uploadNewImage = false;\n                    setFileList(fileListProps);\n                    setIsNotEditImages(true);\n                }\n            } else {\n                uploadNewImage = true;\n                formData.append('media', fileListProps[0]?.originFileObj);\n            }\n\n        })\n        if (uploadNewImage && !imagesUploadSuccess) {\n            imagesUploadMutate({url: '/medias', formData});\n        }\n\n        setValues(values);\n    };\n    const onFinishFailed = (errorInfo) => {\n        console.log('Failed:', errorInfo);\n    };\n\n    const onChange = ({fileList: newFileList}) => {\n        setFileListProps(newFileList);\n        form.setFieldsValue({mediaId: newFileList});\n    };\n\n\n    const handleRemoveImage = (file) => {\n        if (editFilialInnerSuccess) {\n            setDeleteImage(file);\n        }\n    };\n\n\n    // refresh page again get data\n\n    useEffect(() => {\n        const storedValues = JSON.parse(localStorage.getItem('myFormValues'));\n        if (storedValues) {\n            storedValues.images = [];\n            form.setFieldsValue(storedValues);\n        }\n\n        const handleBeforeUnload = () => {\n            localStorage.setItem(\n                'myFormValues',\n                JSON.stringify(form.getFieldsValue()),\n            );\n        };\n\n        window.addEventListener('beforeunload', handleBeforeUnload);\n\n        return () => {\n            localStorage.removeItem('editDataId');\n            localStorage.removeItem('myFormValues');\n            window.removeEventListener('beforeunload', handleBeforeUnload);\n        };\n    }, []);\n\n    const onPreview = async (file) => {\n        let src = file.url;\n        if (!src) {\n            src = await new Promise((resolve) => {\n                const reader = new FileReader();\n                reader.readAsDataURL(file.originFileObj);\n                reader.onload = () => resolve(reader.result);\n            });\n        }\n        const image = new Image();\n        image.src = src;\n        const imgWindow = window.open(src);\n        imgWindow?.document.write(image.outerHTML);\n    };\n\n    return (\n        <div>\n            {imagesUploadLoading ||\n            postFilialInnerLoading ||\n            editFilialInnerLoading ||\n            putFilialInnerLoading ? (\n                <AppLoader/>\n            ) : (\n                <Form\n                    form={form}\n                    name='basic'\n                    labelCol={{\n                        span: 24,\n                    }}\n                    wrapperCol={{\n                        span: 24,\n                    }}\n                    style={{\n                        maxWidth: '100%',\n                    }}\n                    initialValues={initialValueForm}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                    autoComplete='off'>\n                    <Row gutter={20}>\n                        <Col span={12}>\n                            <Form.Item\n                                label='Изображение логотипа'\n                                name={'mediaId'}\n                                rules={[{required: true, message: 'Требуется загрузка изображения логотипа'}]}>\n                                <ImgCrop rotationSlider>\n                                    <Upload\n                                        maxCount={2}\n                                        fileList={fileListProps}\n                                        listType='picture-card'\n                                        onChange={onChange}\n                                        onPreview={onPreview}\n                                        beforeUpload={() => false}\n                                        onRemove={handleRemoveImage}>\n                                        {fileListProps.length > 1 ? \"\" : \"Upload\"}\n                                    </Upload>\n                                </ImgCrop>\n                            </Form.Item>\n                        </Col>\n\n                    </Row>\n\n\n                    <Button type='primary' htmlType='submit' style={{width: '100%'}}>\n                        {editFilialInnerSuccess ? 'Edit' : 'Add'}\n                    </Button>\n                </Form>\n            )}\n        </div>\n    );\n};\n\nexport default PostEditFilialInner;\n"],"names":["axios","concat","process","config","jwt","key","localStorage","getItem","error","console","log","authorization","headers","getData","url","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","sent","abrupt","stop","getDataByID","id","_callee2","_yield$axios$get2","_context2","postData","formData","_callee3","_yield$axios$post","_context3","editData","_callee4","_yield$axios$put","_context4","deleteData","_callee5","_context5","deleteImages","ids","_callee6","_context6","initialValueForm","mediaId","_Form$useForm","Form","form","_slicedToArray","navigate","useNavigate","editId","useSelector","state","dispatch","useDispatch","_useState","useState","_useState2","fileListProps","setFileListProps","_useState3","_useState4","fileList","setFileList","_useState5","_useState6","valuesForm","setValues","_useState7","_useState8","isNotEditImages","setIsNotEditImages","_useState9","_useState10","deleteImage","setDeleteImage","_useMutation","useMutation","_ref","apiService","onSuccess","message","onError","postFilialInnerMutate","mutate","postFilialInner","postFilialInnerLoading","isLoading","postFilialInnerSuccess","isSuccess","postFilialInnerError","postFilialInnerIsError","isError","_useMutation2","_ref2","imagesUploadMutate","imagesUpload","imagesUploadLoading","imagesUploadSuccess","_useQuery","useQuery","enabled","editFilialInnerLoading","editFilialInnerData","editFilialInnerRefetch","refetch","editFilialInnerSuccess","_useMutation3","_ref3","putFilialInner","putFilialInnerLoading","putData","putFilialInnerSuccess","putFilialInnerError","putFilialInnerIsError","imagesDeleteMutate","_ref4","useEffect","delImage","type","EDIT_DATA","payload","length","setFieldsValue","imagesInitial","i","_editFilialInnerData$","images","_editFilialInnerData$2","_editFilialInnerData$3","_editFilialInnerData$4","_editFilialInnerData$5","editDefaultImages","uid","_id","name","location","path","status","push","edit","imageData","patchImagesAndInitialImages","_toConsumableArray","deleteLocalImage","map","image","_image$originFileObj","originFileObj","storedValues","JSON","parse","handleBeforeUnload","setItem","stringify","getFieldsValue","window","addEventListener","removeItem","removeEventListener","onPreview","_ref6","file","src","imgWindow","Promise","resolve","reader","FileReader","readAsDataURL","onload","result","Image","open","document","write","outerHTML","_x","apply","arguments","_jsx","children","AppLoader","_jsxs","labelCol","span","wrapperCol","style","maxWidth","initialValues","onFinish","values","FormData","uploadNewImage","_file$originFileObj","_fileListProps$","append","onFinishFailed","errorInfo","autoComplete","Row","gutter","Col","label","rules","required","ImgCrop","rotationSlider","Upload","maxCount","listType","onChange","_ref5","newFileList","beforeUpload","onRemove","Button","htmlType","width"],"sourceRoot":""}