"use strict";(self.webpackChunkcrema=self.webpackChunkcrema||[]).push([[963],{68438:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(74165),a=t(15861),r=t(74569),o=t.n(r);o().defaults.baseURL="".concat("https://leapmotorca.uz/api"),o().interceptors.request.use((function(e){var n=function(e){try{return localStorage.getItem(e)}catch(n){console.log("Error getting data")}}("lptoken"),t=null!==n?"Bearer ".concat(n):"";return e.headers.authorization=t,e}));var l=o(),u={getData:function(e){return(0,a.Z)((0,i.Z)().mark((function n(){var t,a;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.get(e);case 2:return t=n.sent,a=t.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()},getDataByID:function(e,n){return(0,a.Z)((0,i.Z)().mark((function t(){var a,r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.get("".concat(e,"/").concat(n));case 2:return a=t.sent,r=a.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},postData:function(e,n){return(0,a.Z)((0,i.Z)().mark((function t(){var a,r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.post(e,n);case 2:return a=t.sent,r=a.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},editData:function(e,n,t){return(0,a.Z)((0,i.Z)().mark((function a(){var r,o;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,l.put("".concat(e,"/").concat(t),n);case 2:return r=i.sent,o=r.data,i.abrupt("return",o);case 5:case"end":return i.stop()}}),a)})))()},deleteData:function(e,n){return(0,a.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.delete("".concat(e,"/").concat(n));case 2:case"end":return t.stop()}}),t)})))()},deleteImages:function(e,n){return(0,a.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("delete image",n),t.next=3,l.delete(e,{data:n});case 3:case"end":return t.stop()}}),t)})))()}}},17963:function(e,n,t){t.r(n);var i=t(74165),a=t(15861),r=t(93433),o=t(29439),l=t(72791),u=t(2409),s=t(50419),d=t(66106),c=t(30914),m=t(83734),v=t(49389),p=t(13344),f=t(93086),h=t(87309),g=t(91933),Z=t(68438),x=t(98986),b=t(57689),j=t(16030),I=t(77221),w=t(22645),F=t(68747),y=t(80184),S={model:"",position:"",exterior:"",interior:"",name:"",price:null,bonus:"",includeComment:"",mainMediaId:"",bannerMediaId:"",includes:[]};n.default=function(){var e=u.Z.useForm(),n=(0,o.Z)(e,1)[0],t=(0,b.s0)(),C=(0,j.v9)((function(e){return e.editData})).editId,D=(0,j.I0)(),V=(0,l.useState)([]),M=(0,o.Z)(V,2),L=M[0],P=M[1],E=(0,l.useState)([]),k=(0,o.Z)(E,2),z=k[0],q=k[1],U=(0,l.useState)([]),O=(0,o.Z)(U,2),Q=O[0],T=O[1],_=(0,l.useState)(""),B=(0,o.Z)(_,2),R=B[0],J=B[1],N=(0,l.useState)(""),G=(0,o.Z)(N,2),A=G[0],H=G[1],K=(0,l.useState)(""),W=(0,o.Z)(K,2),X=W[0],Y=W[1],$=(0,l.useState)(""),ee=(0,o.Z)($,2),ne=ee[0],te=ee[1],ie=(0,l.useState)(0),ae=(0,o.Z)(ie,2),re=ae[0],oe=ae[1],le=(0,g.useQuery)("get-model",(function(){return Z.Z.getData("/product")}),{enabled:!1}),ue=le.data,se=le.refetch,de=(0,g.useQuery)("get-position",(function(){return Z.Z.getData("/position?model=".concat(R))}),{enabled:!1}),ce=de.data,me=de.refetch,ve=(0,g.useQuery)("get-exterior",(function(){return Z.Z.getData("/exterior?model=".concat(R,"&position=").concat(A))}),{enabled:!1}),pe=ve.data,fe=ve.refetch,he=(0,g.useQuery)("get-interior",(function(){return Z.Z.getData("/interior?model=".concat(R,"&position=").concat(A,"&exterior=").concat(X))}),{enabled:!1}),ge=he.data,Ze=he.refetch,xe=(0,g.useMutation)((function(e){var n=e.url,t=e.formData;return Z.Z.postData(n,t)}),{onError:function(e){return s.ZP.error(e.message,"Rasmning JPG,JPEG,PNG formatlariga ruxsat etilgan")}}),be=xe.mutate,je=xe.data,Ie=xe.isLoading,we=xe.isSuccess,Fe=(0,g.useMutation)((function(e){var n=e.url,t=e.data;return Z.Z.postData(n,t)}),{onSuccess:function(){s.ZP.success("Success")},onError:function(e){s.ZP.error(e.message)}}),ye=Fe.mutate,Se=Fe.data,Ce=Fe.isLoading,De=Fe.isSuccess,Ve=(0,g.useQuery)(["edit-option",C],(function(){return Z.Z.getDataByID("/option",C)}),{enabled:!1}),Me=Ve.isLoading,Le=Ve.data,Pe=Ve.refetch,Ee=Ve.isSuccess,ke=(0,g.useMutation)((function(e){var n=e.url,t=e.data,i=e.id;return Z.Z.editData(n,t,i)}),{onSuccess:function(){s.ZP.success("Success")},onError:function(e){s.ZP.error(e)}}),ze=ke.mutate,qe=ke.isLoading,Ue=ke.data,Oe=ke.isSuccess,Qe=(0,g.useMutation)((function(e){var n=e.url,t=e.ids;return Z.Z.deleteImages(n,t)}),{onSuccess:function(){return s.ZP.success("Success")},onError:function(e){return s.ZP.error(e.message)}}).mutate;(0,l.useEffect)((function(){R&&me();var e=n.getFieldsValue();(null===Le||void 0===Le?void 0:Le.model)!==(null===e||void 0===e?void 0:e.model)&&(n.setFieldsValue({position:""}),n.setFieldsValue({exterior:""}),n.setFieldsValue({interior:""}))}),[R]),(0,l.useEffect)((function(){A&&fe();var e=n.getFieldsValue();(null===Le||void 0===Le?void 0:Le.position)!==(null===e||void 0===e?void 0:e.position)&&(n.setFieldsValue({exterior:""}),n.setFieldsValue({interior:""}))}),[A]),(0,l.useEffect)((function(){X&&Ze();var e=n.getFieldsValue();(null===Le||void 0===Le?void 0:Le.exterior)!==(null===e||void 0===e?void 0:e.exterior)&&n.setFieldsValue({interior:""})}),[X]),(0,l.useEffect)((function(){Oe&&D({type:I.Pb,payload:""}),(De||Oe)&&t("/option")}),[Se,Ue]),(0,l.useEffect)((function(){""!==C&&Pe()}),[C]),(0,l.useEffect)((function(){""===C&&n.setFieldsValue(S),se()}),[]),(0,l.useEffect)((function(){var e,t,i,a,r,o,l=[],u=[];if(void 0!==Le)for(var s=0;s<Le.includes.length;s++){var d,c,m,v,p,f,h,g,Z=[];if("null"!==(null===(d=Le.includes[s])||void 0===d||null===(c=d.image)||void 0===c?void 0:c.name))Z=[{uid:null===(m=Le.includes[s])||void 0===m||null===(v=m.image)||void 0===v?void 0:v._id,name:null===(p=Le.includes[s])||void 0===p||null===(f=p.image)||void 0===f?void 0:f.name,status:"done",url:"".concat("https://leapmotorca.uz/api","/").concat(null===(h=Le.includes[s])||void 0===h||null===(g=h.image)||void 0===g?void 0:g.path)}];var x=Le.includes[s].tags.join(","),b={title:Le.includes[s].title,comment:Le.includes[s].comment,tags:x,mediaId:Z};l.push(b),u.push(Z)}var j=[{uid:null===Le||void 0===Le||null===(e=Le.bannerImage)||void 0===e?void 0:e._id,name:null===Le||void 0===Le||null===(t=Le.bannerImage)||void 0===t?void 0:t.name,status:"done",url:"".concat("https://leapmotorca.uz/api","/").concat(null===Le||void 0===Le||null===(i=Le.bannerImage)||void 0===i?void 0:i.path)}],I=[{uid:null===Le||void 0===Le||null===(a=Le.mainImage)||void 0===a?void 0:a._id,name:null===Le||void 0===Le||null===(r=Le.mainImage)||void 0===r?void 0:r.name,status:"done",url:"".concat("https://leapmotorca.uz/api","/").concat(null===Le||void 0===Le||null===(o=Le.mainImage)||void 0===o?void 0:o.path)}];if(Ee){var w={model:Le.model,position:Le.position,exterior:Le.exterior,interior:Le.interior,name:Le.name,bonus:"",includeComment:Le.includeComment,price:0===Le.price?null:Le.price,mainMediaId:I,bannerMediaId:j,includes:l};J(Le.model),H(Le.position),Y(Le.exterior),q(j),P(I),T(u),n.setFieldsValue(w)}}),[Le]);(0,l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("myFormValues"));e&&(e.images=[],n.setFieldsValue(e));var t=function(){localStorage.setItem("myFormValues",JSON.stringify(n.getFieldsValue()))};return window.addEventListener("beforeunload",t),function(){localStorage.removeItem("editDataId"),localStorage.removeItem("myFormValues"),window.removeEventListener("beforeunload",t)}}),[]);var Te=(0,l.useMemo)((function(){return null===ue||void 0===ue?void 0:ue.map((function(e){return{value:null===e||void 0===e?void 0:e.model,label:null===e||void 0===e?void 0:e.model}}))}),[ue]),_e=(0,l.useMemo)((function(){return null===ce||void 0===ce?void 0:ce.map((function(e){return{value:null===e||void 0===e?void 0:e.name,label:null===e||void 0===e?void 0:e.name}}))}),[ce]),Be=(0,l.useMemo)((function(){return null===pe||void 0===pe?void 0:pe.map((function(e){return{value:null===e||void 0===e?void 0:e.name,label:null===e||void 0===e?void 0:e.name}}))}),[pe]),Re=(0,l.useMemo)((function(){return null===ge||void 0===ge?void 0:ge.map((function(e){return{value:null===e||void 0===e?void 0:e.name,label:null===e||void 0===e?void 0:e.name}}))}),[ge]);(0,l.useEffect)((function(){if(we&&"main"===ne){var e,t,i,a=[{uid:null===(e=je[0])||void 0===e?void 0:e._id,name:null===(t=je[0])||void 0===t?void 0:t.name,status:"done",url:"".concat("https://leapmotorca.uz/api","/").concat(null===(i=je[0])||void 0===i?void 0:i.path)}];P(a),te("")}if(we&&"banner"===ne){var o,l,u,s=[{uid:null===(o=je[0])||void 0===o?void 0:o._id,name:null===(l=je[0])||void 0===l?void 0:l.name,status:"done",url:"".concat("https://leapmotorca.uz/api","/").concat(null===(u=je[0])||void 0===u?void 0:u.path)}];q(s),te("")}var d=(0,r.Z)(Q);if(we&&"includes"===ne){var c,m,v,p=[{uid:null===(c=je[0])||void 0===c?void 0:c._id,name:null===(m=je[0])||void 0===m?void 0:m.name,status:"done",url:"".concat("https://leapmotorca.uz/api","/").concat(null===(v=je[0])||void 0===v?void 0:v.path)}];d[re]=p,T(d);var f=n.getFieldsValue(),h=null===f||void 0===f?void 0:f.includes;h[re]||(h[re]={mediaId:"",tags:"",title:"",comment:""}),h[re].mediaId=p,n.setFieldsValue({items:h}),te("")}}),[je]);var Je=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var t,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.url){e.next=5;break}return e.next=4,new Promise((function(e){var t=new FileReader;t.readAsDataURL(n.originFileObj),t.onload=function(){return e(t.result)}}));case 4:t=e.sent;case 5:(a=new Image).src=t,null===(r=window.open(t))||void 0===r||r.document.write(a.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)("div",{children:Ce||Me||qe||Ie?(0,y.jsx)(x.QP,{}):(0,y.jsxs)(u.Z,{form:n,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:S,onFinish:function(e){for(var n,t,i=[],a=0;a<e.includes.length;a++){var r,o,l="",u=void 0;if(Q.length>0)if(null===Q[a]||(null===(r=Q[a])||void 0===r?void 0:r.length)<1)l="";else l=null===(o=Q[a][0])||void 0===o?void 0:o.uid;e.includes[a].tags&&(u=e.includes[a].tags.split(","));var s={title:e.includes[a].title||"",comment:e.includes[a].comment||"",tags:u||[],mediaId:l};i.push(s)}var d={model:e.model,position:e.position,exterior:e.exterior,interior:e.interior,name:e.name,bonus:"",includeComment:e.includeComment,price:null===e.price||""===e.price?0:e.price,bannerMediaId:null===(n=z[0])||void 0===n?void 0:n.uid,mainMediaId:null===(t=L[0])||void 0===t?void 0:t.uid,includes:i};Ee?ze({url:"/option",data:d,id:C}):ye({url:"/option",data:d})},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u043e\u0434\u0435\u043b\u044c",name:"model",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043c\u043e\u0434\u0435\u043b\u044c"}],children:(0,y.jsx)(m.Z,{style:{width:"100%"},onChange:function(e){J(e)},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u043d\u0443 \u043c\u043e\u0434\u0435\u043b\u044c",optionLabelProp:"label",options:Te})})}),(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u044f",name:"position",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0437\u0438\u0446\u0438\u044f"}],children:(0,y.jsx)(m.Z,{style:{width:"100%"},onChange:function(e){H(e)},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u043d\u0443 \u043f\u043e\u0437\u0438\u0446\u0438\u044f",optionLabelProp:"label",options:_e})})})]}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u042d\u043a\u0441\u0442\u0435\u0440\u044c\u0435\u0440",name:"exterior",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u044d\u043a\u0441\u0442\u0435\u0440\u044c\u0435\u0440"}],children:(0,y.jsx)(m.Z,{style:{width:"100%"},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u043d\u0443 \u044d\u043a\u0441\u0442\u0435\u0440\u044c\u0435\u0440",optionLabelProp:"label",onChange:function(e){Y(e)},options:Be})})}),(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0418\u043d\u0442\u0435\u0440\u044c\u0435\u0440",name:"interior",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0418\u043d\u0442\u0435\u0440\u044c\u0435\u0440"}],children:(0,y.jsx)(m.Z,{style:{width:"100%"},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u043d\u0443 \u0418\u043d\u0442\u0435\u0440\u044c\u0435\u0440",optionLabelProp:"label",options:Re})})}),(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0412\u0430\u0440\u0438\u0430\u043d\u0442",name:"name",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0440\u0438\u0430\u043d\u0442"}],children:(0,y.jsx)(v.Z,{})})}),(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0426\u0435\u043d\u0430, (\u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f)",name:"price",children:(0,y.jsx)(p.Z,{style:{width:"100%"}})})})]}),(0,y.jsx)(d.Z,{gutter:20,children:(0,y.jsx)(c.Z,{span:24,children:(0,y.jsx)(u.Z.Item,{label:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439, (\u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f)",name:"includeComment",children:(0,y.jsx)(v.Z,{})})})}),(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0431\u0430\u043d\u043d\u0435\u0440",name:"bannerMediaId",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0431\u0430\u043d\u043d\u0435\u0440"}],children:(0,y.jsx)(w.Z,{children:(0,y.jsx)(f.Z,{maxCount:1,fileList:z,listType:"picture-card",onChange:function(e){var t=e.fileList;if(n.setFieldsValue({bannerMediaId:t}),0!==z.length||0===t.length){var i,a=[null===(i=z[0])||void 0===i?void 0:i.uid];Qe({url:"/medias",ids:{ids:a}}),q([])}var r=new FormData;0!==t.length&&(r.append("media",t[0].originFileObj),be({url:"/medias",formData:r}),te("banner"))},onPreview:Je,beforeUpload:function(){return!1},children:z.length>0?"":"Upload"})})})}),(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439",name:"mainMediaId",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439"}],children:(0,y.jsx)(w.Z,{children:(0,y.jsx)(f.Z,{maxCount:1,fileList:L,listType:"picture-card",onChange:function(e){var t=e.fileList;if(n.setFieldsValue({mainMediaId:t}),0!==L.length||0===t.length){var i,a=[null===(i=L[0])||void 0===i?void 0:i.uid];Qe({url:"/medias",ids:{ids:a}}),P([])}var r=new FormData;0!==t.length&&(r.append("media",t[0].originFileObj),be({url:"/medias",formData:r}),te("main"))},onPreview:Je,beforeUpload:function(){return!1},children:L.length>0?"":"Upload"})})})})]}),(0,y.jsx)(u.Z.List,{name:"includes",children:function(e,t){var i=t.add,a=t.remove;return(0,y.jsxs)(y.Fragment,{children:[e.map((function(e,n){var t=Q[n]||[];return(0,y.jsxs)("div",{style:{marginBottom:20},children:[(0,y.jsxs)(d.Z,{gutter:20,children:[(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a, (\u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f)",name:[e.name,"title"],children:(0,y.jsx)(v.Z,{})})}),(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(u.Z.Item,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439, (\u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f)",name:[e.name,"comment"],children:(0,y.jsx)(v.Z,{})})}),(0,y.jsx)(c.Z,{span:24,children:(0,y.jsx)(u.Z.Item,{label:"\u041a\u0430\u043a\u043e\u0432\u044b \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u044d\u0442\u043e\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442, (\u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f)",name:[e.name,"tags"],children:(0,y.jsx)(v.Z,{placeholder:"option1, option2, option3"})})})]}),(0,y.jsx)(u.Z.Item,{label:"\u0424\u043e\u0442\u043e, (\u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f) ".concat(n+1),name:[e.name,"mediaId"],children:(0,y.jsx)(w.Z,{rotate:!0,children:(0,y.jsx)(f.Z,{maxCount:1,listType:"picture-card",fileList:t,onChange:function(e){return function(e,n){var t=n.fileList;if(oe(e),Q[e]||0===t.length){var i=[Q[e][0].uid];Qe({url:"/medias",ids:{ids:i}}),Q[e]=null,T(Q)}var a=new FormData;0!==t.length&&(a.append("media",t[0].originFileObj),be({url:"/medias",formData:a}),te("includes"))}(n,e)},onPreview:Je,beforeUpload:function(){return!1},children:t.length<1&&"+ Upload"})})}),(0,y.jsx)(F.Z,{onClick:function(){return function(e,n,t,i){if(console.log(t),console.log(i),console.log(Q),i===Q[t]&&Q.length>0){var a,r=[null===(a=Q[t][0])||void 0===a?void 0:a.uid];Q.splice(t,1),Qe({url:"/medias",ids:{ids:r}})}n(e)}(e.name,a,n,t)}})]},e.fieldKey)})),(0,y.jsx)(u.Z.Item,{children:(0,y.jsx)(h.Z,{type:"primary",onClick:function(){return function(e){var t=[];e();var i=n.getFieldsValue();null!==i&&void 0!==i&&i.includes[0]||t.push({mediaId:"",title:"",comment:"",tags:""}),n.setFieldsValue({items:t})}(i)},block:!0,style:{backgroundColor:"#28a745"},children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442"})})]})}}),(0,y.jsx)(h.Z,{type:"primary",htmlType:"submit",style:{width:"100%",marginTop:"20px"},children:Ee?"Edit":"Add"})]})})}},68747:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(1413),a=t(72791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},o=t(54291),l=function(e,n){return a.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:r}))};l.displayName="MinusCircleOutlined";var u=a.forwardRef(l)}}]);
//# sourceMappingURL=963.62886271.chunk.js.map